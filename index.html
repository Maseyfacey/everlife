<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>2-Organism Ecosystem</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>2-Organism Ecosystem</h1>

    <div class="row">
      <button id="pauseBtn">Pause</button>
      <button id="resetBtn">Reset</button>
      <button id="resetViewBtn">Reset View</button>

      <label class="chk">
        <input type="checkbox" id="drawTrails" checked />
        Trails
      </label>

      <label class="chk">
        <input type="checkbox" id="drawHeat" />
        Plant Heatmap
      </label>

      <label class="chk">
        <input type="checkbox" id="showLabels" />
        Labels (only when zoomed in)
      </label>

      <label class="chk">
        <input type="checkbox" id="autosave" checked />
        Autosave
      </label>
    </div>

    <div class="row">
      <div class="slotBox">
        <span class="slotLabel">Save slot</span>
        <select id="slotSelect">
          <option value="1">World 1</option>
          <option value="2">World 2</option>
          <option value="3">World 3</option>
        </select>
      </div>

      <button id="exportBtn">Export (.json)</button>
      <label class="importBtn">
        Import (.json)
        <input id="importFile" type="file" accept="application/json" />
      </label>

      <button id="clearSlotBtn" class="danger">Clear Slot</button>
    </div>

    <div class="controls">
      <div class="ctl">
        <div class="ctlTop"><span>Sim speed</span><span class="val" id="v_tickEvery">2</span></div>
        <input id="tickEvery" type="range" min="1" max="10" step="1" />
        <div class="hint">Higher = slower (1 tick every N frames)</div>
      </div>

      <div class="ctl">
        <div class="ctlTop"><span>Plant growth</span><span class="val" id="v_plantGrowth">0.006</span></div>
        <input id="plantGrowth" type="range" min="0.001" max="0.03" step="0.001" />
      </div>

      <div class="ctl">
        <div class="ctlTop"><span>Mutation rate</span><span class="val" id="v_mutRate">0.10</span></div>
        <input id="mutRate" type="range" min="0.00" max="0.30" step="0.01" />
      </div>

      <div class="ctl">
        <div class="ctlTop"><span>Mutation strength</span><span class="val" id="v_mutStrength">0.10</span></div>
        <input id="mutStrength" type="range" min="0.00" max="0.30" step="0.01" />
      </div>

      <div class="ctl">
        <div class="ctlTop"><span>Speciation</span><span class="val" id="v_speciesSplit">0.30</span></div>
        <input id="speciesSplit" type="range" min="0.15" max="0.60" step="0.01" />
        <div class="hint">Lower = more species</div>
      </div>
    </div>

    <div id="stats"></div>
  </header>

  <main>
    <div class="wrap">
      <canvas id="c"></canvas>

      <aside class="legend">
        <div class="legendTop">
          <div>
            <div class="legendTitle">Species</div>
            <div class="legendSub">Click to follow</div>
          </div>
          <button id="unfollowBtn" class="small">Unfollow</button>
        </div>

        <div class="legendTabs">
          <button id="tabG" class="tab active">Grazers</button>
          <button id="tabH" class="tab">Hunters</button>
        </div>

        <div id="legendList" class="legendList"></div>
      </aside>
    </div>

    <div class="zoomHint">
      Wheel = zoom • Drag = pan • Double-click = reset view
    </div>
  </main>

  <footer>
    Slot saves are stored in your browser. Export lets you share/save outside the browser.
  </footer>

  <script src="sim.js"></script>
</body>
</html>
